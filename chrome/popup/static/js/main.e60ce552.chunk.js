(this.webpackJsonppopup=this.webpackJsonppopup||[]).push([[0],{40:function(e,t,a){e.exports=a(55)},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(34),r=a(0),c=a.n(r),o=a(14),i=a.n(o),u=a(70),s=a(10),l=a.n(s),p=a(17),m=a(68),d=a(69),f=a(71),h=a(72),E=a(73),b=a(4),v={active:!1},O={usedHeap:0,totalHeap:0},y={heapData:[],max:2e3};y.max=performance.memory.jsHeapSizeLimit/1e6;var j=y,x={page:"/",memoryLeak:0},g=Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)({},v),O),j),x),T={START:"START",STOP:"STOP"},k={UPDATE_HEAP:"UPDATE_HEAP"},A={CHANGE_PAGE:"CHANGE_PAGE",UPDATE_COUNT:"UPDATE_COUNT"},w=Object(b.a)(Object(b.a)(Object(b.a)({},T),k),A),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.START:return Object(b.a)(Object(b.a)({},e),{},{active:!0});case w.STOP:return Object(b.a)(Object(b.a)({},e),{},{active:!1});case w.UPDATE_HEAP:return Object(b.a)(Object(b.a)({},e),{},{usedHeap:t.payload.usedHeap,totalHeap:t.payload.totalHeap,heapData:t.payload.heapData});case w.CHANGE_PAGE:return Object(b.a)(Object(b.a)({},e),{},{page:t.payload.page});case w.UPDATE_COUNT:return Object(b.a)(Object(b.a)({},e),{},{memoryLeak:t.payload.memoryLeak});default:return e}},P=c.a.createContext(),C=P.Provider,_=(P.Consumer,g),S=H,D=P,U=Object(m.a)((function(e){return{paper:{padding:8}}})),N=function(){var e=Object(r.useContext)(D),t=e.store,a=e.dispatch,n=U(),o=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.runtime.sendMessage({action:"attach_debugger",payload:t[0]});case 2:a({type:w.START});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.runtime.sendMessage({action:"detach_debugger",payload:{tabId:t[0].id}});case 2:a({type:w.STOP});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.tabs.query({active:!0},i);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.tabs.query({active:!0},o);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:chrome.runtime.sendMessage({action:"is_attached_debugger"},(function(e){a(e?{type:w.START}:{type:w.STOP})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){b()}),[]),c.a.createElement(d.a,{className:n.paper},c.a.createElement(u.a,{container:!0},c.a.createElement(u.a,{item:!0,xs:6},c.a.createElement(f.a,{variant:"h6",color:"textSecondary"},"Meleak")),c.a.createElement(u.a,{item:!0,xs:6},c.a.createElement(h.a,{display:"flex",justifyContent:"flex-end"},t.active?c.a.createElement(E.a,{size:"small",variant:"outlined",onClick:s},"Stop"):c.a.createElement(E.a,{size:"small",variant:"outlined",onClick:m},"Start")))))},L=Object(m.a)((function(e){return{paper:{padding:8}}})),G=function(){var e=L(),t=Object(r.useContext)(D).store;return c.a.createElement(d.a,{className:e.paper},c.a.createElement(f.a,{variant:"button"},"Used Heap: ",(t.usedHeap/1e6).toFixed(2)," Mb"))},M=Object(m.a)((function(e){return{paper:{padding:8}}})),R=function(){var e=M(),t=Object(r.useContext)(D).store;return c.a.createElement(d.a,{className:e.paper},c.a.createElement(f.a,{variant:"button"},"Total Heap: ",(t.totalHeap/1e6).toFixed(2)," Mb"))},z=a(32),W=a.n(z);function I(){var e=Object(r.useContext)(D).store;return c.a.createElement(E.a,{variant:"contained",startIcon:c.a.createElement(W.a,null),color:"secondary",fullWidth:!0,onClick:function(){return function(){var e=chrome.runtime.getURL("option/index.html"),t=document.createElement("a");return t.target="_blank",t.href="".concat(e),t.click()}()}},"Memory Leak Detected in this Page (",e.memoryLeak,")")}var q=a(33),B=a.n(q),F=function(){var e=Object(r.useContext)(D).store;return c.a.createElement(B.a,{type:"line",options:{chart:{id:"basic-bar",toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"50%",endingShape:"arrow"}},stroke:{width:[2,0,0]},markers:{size:6,strokeWidth:3,fillOpacity:0,strokeOpacity:0,hover:{size:8}}},series:[{name:"Used Heap",type:"line",data:e.heapData}],width:500,height:240})},J=Object(m.a)((function(e){return{paper:{padding:8}}}));var $=function(){var e=Object(r.useContext)(D).store,t=J();return c.a.createElement(d.a,{className:t.paper},c.a.createElement(h.a,{display:"flex",justifyContent:"center"},c.a.createElement(f.a,{variant:"button",color:"textSecondary"},"Current Stats - Page (",e.page,")")))},K="update_heap";var Q=function(){var e=Object(r.useContext)(D).dispatch;return Object(r.useEffect)((function(){chrome.runtime.onMessage.addListener((function(t,a,n){!function(t,a){switch(t){case K:var n=a.usedHeap,r=a.totalHeap,c=a.heapData,o=a.page,i=a.memoryLeak;return e({type:w.CHANGE_PAGE,payload:{page:o}}),e({type:w.UPDATE_COUNT,payload:{memoryLeak:i}}),e({type:w.UPDATE_HEAP,payload:{usedHeap:n,totalHeap:r,heapData:c}});default:;}}(t.action,t.payload)}))}),[]),c.a.createElement(u.a,{container:!0,spacing:1},c.a.createElement(u.a,{item:!0,xs:12},c.a.createElement(N,null)),c.a.createElement(u.a,{item:!0,xs:12},c.a.createElement($,null)),c.a.createElement(u.a,{item:!0,xs:6},c.a.createElement(G,null)),c.a.createElement(u.a,{item:!0,xs:6},c.a.createElement(R,null)),c.a.createElement(u.a,{item:!0,xs:12},c.a.createElement(F,null)),c.a.createElement(u.a,{item:!0,xs:12},c.a.createElement(I,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(53),a(54);var V=function(){var e=Object(r.useReducer)(S,_),t=Object(n.a)(e,2),a=t[0],o=t[1];return c.a.createElement(C,{value:{store:a,dispatch:o}},c.a.createElement(Q,null))};i.a.render(c.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.e60ce552.chunk.js.map